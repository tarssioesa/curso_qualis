<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Como o R salvou minha vida</title>
    <meta charset="utf-8" />
    <meta name="author" content=" Tarssio Barreto" />
    <link href="libs/remark-css/robot.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Como o R salvou minha vida
## e pode salvar a sua
### <br/>Tarssio Barreto
### <br/>Alguma quarta-feira da quarentena…

---




class: center, bottom

background-image: url(https://img.buzzfeed.com/buzzfeed-static/static/2014-06/25/11/enhanced/webdr07/anigif_enhanced-buzz-2416-1403710481-29.gif?crop=302:302;100,0&amp;downsize=300:*&amp;output-format=auto&amp;output-quality=auto)
background-position: 50% 50%
background-size: contain

---

# Quem sou eu?

---

### Big Data NOW

"In addition to being able to support modeling efforts and predicting the flow of a pandemic, big data, machine learning, and other technology can quickly and effectively analyze data to help humans on the frontlines figure out the best preparation and response to this and future pandemics". (The Vital Role Of Big Data In The Fight Against Coronavirus - FORBES)

“We also have some work we've been doing in understanding social media responses to the pandemic. One project in particular has focused on tracking data from Chinese social media as coronavirus spread there in mid-January, and then comparing it to American data.” (Understanding the COVID-19 Pandemic as a Big Data Analytics Issue - James Hendler)

The COVID-19 crisis has intensified the debate over big data and privacy. Governments are pulling together data from public and private systems in order to predict and counter the spread of COVID-19. But setting aside privacy protections in a time of crisis could lead to new, permanent norms (Can Big Data Fight a Pandemic? - Yale Insights)



---
# Por que aprender R?

* Razão 01: R é uma ferramenta open-source e disponível gratuitamente;

* Razão 02: R é uma linguagem mundialmente reconhecida;

* Razão 03: R é uma poderosoa linguagem de programação;

* Razão 04: Comunidade acolhedora e 

* Razão 05: Tidyverse e uma interface estruturada de programação.

---


# R é uma ferramenta open-source e disponível gratuitamente:


"R is available as Free Software under the terms of the Free Software Foundation’s GNU General Public License in source code form: " 


* A liberdade de executar o programa, para qualquer propósito;

* A liberdade de estudar como o programa funciona e adaptá-lo às suas necessidades;

* A liberdade de redistribuir cópias de modo que você possa ajudar ao seu próximo e 

* A liberdade de aperfeiçoar o programa e disponibilizar os seus aperfeiçoamentos, de modo que toda a comunidade se beneficie deles.

---
class: center

### R é uma linguagem mundialmente reconhecida

&lt;img src="tag_growth_scatter-1-771x675.png" width="80%"&gt;


---

class: center

### R é uma linguagem mundialmente reconhecida


&lt;img src="figure2.png" width="70%"&gt;

---

class: center

## R é uma poderosoa linguagem de programação e pode salvar sua vida

#### Mudanças climáticas

&lt;img src="figuraOCIS.jpeg" width="90%"&gt;

Estimating the impact of climate change on wind and solar energy in Brazil using a South American regional climate model. 

---

## R é uma poderosa linguagem de programação e pode salvar sua vida

#### Mudanças climáticas

Autores: Pieter de Jong; Tarssio B.Barreto; Clemente A.S.Tanajura; Daniel Kouloukoui; Karla P.Oliveira-Esquerre; Asher Kiperstok; Ednildo Andrade Torres.

Desafio: 

* Aquisição de dados via [API] (https://projeta.cptec.inpe.br/);

* Mais de 1 Bilhão de dados;

* Identificar padrão de ausência de dados;

* Gerar visualização de dados.

---

### R é uma poderosa linguagem de programação e pode salvar sua vida

##### Justiça climática e territórios de informações: o caso das chuvas de abril/2019 na cidade do Rio de Janeiro (RJ).

&lt;img src="user1.png" width="100%"&gt;

---

### R é uma poderosa linguagem de programação e pode salvar sua vida

##### Justiça climática e territórios de informações: o caso das chuvas de abril/2019 na cidade do Rio de Janeiro (RJ).

Desafio: 

* Limpar cerca de 400 mil publicações no twitter relacionadas, inicialmente, às chuvas no Rio de Janeiro; 

* Múltiplas notícias ou eventos com destaque como o assassinato de um músico com 80 tiros, lançamento de música pelo BTS, campanha venezuelana pelos direitos dos animais e Lollapalooza.

* Transformar dados de uma rede social em informação para publicação científica.

---

### R é uma poderosa linguagem de programação e pode salvar sua vida

##### Justiça climática e territórios de informações: o caso das chuvas de abril/2019 na cidade do Rio de Janeiro (RJ).


&lt;img src="user.png" width="100%"&gt;

---

### R é uma poderosa linguagem de programação e pode salvar sua vida

##### Estimação dos atributos relevantes na satisfação de usuários de transporte intercampi por random forest.

&lt;img src="social.png" width="100%"&gt;

---

### R é uma poderosa linguagem de programação e pode salvar sua vida

##### Estimação dos atributos relevantes na satisfação de usuários de transporte intercampi por random forest.

Autores: Tarssio Brito Barreto, Ícaro Bernardes dos Santos Coutinho; Jorge Ubirajara Pedreira Júnior e Karla Patricia Santos Oliveira Rodríguez Esquerre

Desafio: 

* Obter informações que contribuam para a melhoria do Buzufba a partir de questionário aplicado aos usuários.

* Encontrar as variáveis mais importantes dadas opniões dos usuários;

* Estudar a correlação destas variáveis com características sociais dos usuários.
---

### R é uma poderosa linguagem de programação e pode salvar sua vida

##### Estimação dos atributos relevantes na satisfação de usuários de transporte intercampi por random forest.

&lt;img src="premio.jpg" width="100%"&gt;

---

### R é uma poderosa linguagem de programação e pode salvar sua vida

##### Estimação dos atributos relevantes na satisfação de usuários de transporte intercampi por random forest.

&lt;img src="importance2.jpeg" width="100%"&gt;


---

### R é uma poderosa linguagem de programação e pode salvar sua vida

##### Dadoscope

&lt;img src="dadoscope.jpg" width="100%"&gt;

Desafios: 

* Acompanhar a velocidade de produção de conteúdo no twitter acerca da "Vaza Jato";

* Trabalhar em equipe de 5 pessoas criando código em prol de apenas uma publicação;

* Baixar de forma contínua as publicações e armazená-las;

* Gerar aproximação da comunidade com os dados.

---

### R é uma poderosa linguagem de programação e pode salvar sua vida

##### Dadoscope

&lt;font size="4"&gt; &lt;b&gt; Quem somos &lt;/b&gt;: Somos os pescadores que se encantam mais com a rede que com o mar, como diria Oswaldo Montenegro. &lt;/font&gt; 
&lt;br/&gt;
&lt;font size="4"&gt; &lt;b&gt; Charles Novaes de Santana &lt;/b&gt;: Cientista da computação, mestre e doutor em mudanças climáticas, com experiência no uso de técnicas de inteligência artificial e de aprendizado estatístico. &lt;/font&gt; 
&lt;br/&gt;
&lt;font size="4"&gt; &lt;b&gt;Tarssio Barreto&lt;/b&gt;: Estudante de doutorado do Programa de Engenharia Industrial da Universidade Federal da Bahia. Dedica o seu tempo ao aprendizado de máquina com particular interesse na interpretabilidade de modelos black box. &lt;/font&gt; 
&lt;br/&gt;
&lt;font size="4"&gt; &lt;b&gt;Fernando Barbalho &lt;/b&gt; — Doutor em Administração pela UnB (2014). É cientista de dados no Tesouro Nacional. Pesquisa e implementa produtos para transparência no setor público brasileiro. &lt;/font&gt; 
&lt;br/&gt;
&lt;font size="4"&gt; &lt;b&gt;Leonardo F. Nascimento &lt;/b&gt;— Doutor em sociologia pelo Instituto de Estudos Sociais e Políticos — IESP/UERJ (2013). Pesquisa temas relacionados à sociologia digital e aos métodos digitais de pesquisa. Atualmente é professor do Instituto de Ciência, Tecnologia e Inovação da UFBA. &lt;/font&gt;


---

### R é uma poderosa linguagem de programação e pode salvar sua vida

##### Dadoscope

&lt;img src="corrida.gif" width="100%"&gt;


---
# Covid-19

## Covid -19 El discurso sobre China en Twitter : nuevo orden, vieja mentalidad.

### Desafios

a) Buscar padrões de referências a China no Twitter durante a pandemia.

b) Identificar como as des-informações são propagadas na rede.

---

### Covid-19

#### Covid -19 El discurso sobre China en Twitter : nuevo orden, vieja mentalidad.


Autores: Francisca Marli Rodrigues de Andrade; Tarssio Barreto; Andrés Herrera;  Andrea Ugolini; Yu-Ting.

&lt;img src="china_virus.jpg" width="60%"&gt;

---

#### Covid-19

### Covid -19 El discurso sobre China en Twitter : nuevo orden, vieja mentalidad.

&lt;img src="bot_time.jpeg" width="80%"&gt;

---

### Comunidade acolhedora

*[Telegram](https://web.telegram.org/#/im?p=@rbrasiloficial)

*[Facebook](https://www.facebook.com/groups/1410023525939155/about/)

*[RLadies](https://rladies.org/)

*[StackOverflow](https://pt.stackoverflow.com/)

*[userR](http://www.user2019.fr/)

*[Eventos](https://jumpingrivers.github.io/meetingsR/events.html)

&lt;img src="team.gif" style="display: block; margin: auto;" /&gt;

---

### Links: 

- http://www.storytellingwithdata.com/books  (Storytelling with Data)

- https://r4ds.had.co.nz  ( R for Data Science)

- https://www.data-to-viz.com (Data to viz)

---

# Mão na massa

* Primeiros passos: 

a) Conhecendo a interface R;

b) Criando nosso Github; 

c) Nosso primeiro projeto;

d) Nosso primeiro banco de dados via API;

&lt;img src="festa.gif" width="80%"&gt;

---

### Nossos primeiros passos gráficos: 


```r
# O que é Programação Orientada a Objeto?

# https://www.codementor.io/@otrenav/object-oriented-programming-in-r-part-1-the-basics-hcgwbcdmo

# Carregando um banco de dados: 

df &lt;- read.csv("Data/koreia_air.csv")


### Instalando o primeiro pacote

# install.packages("tidyverse")
# install.packages("esquisse")

require(tidyverse)
```

```
## Loading required package: tidyverse
```

```
## ── Attaching packages ──────────────────────────────────────────── tidyverse 1.3.0 ──
```

```
## ✓ ggplot2 3.3.0     ✓ purrr   0.3.3
## ✓ tibble  3.0.0     ✓ dplyr   0.8.5
## ✓ tidyr   1.0.0     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.4.0
```

```
## ── Conflicts ─────────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()
```

```r
require(esquisse)
```

```
## Loading required package: esquisse
```

```r
# Para criar gráficos: 

# SOBRE: https://www.youtube.com/watch?v=ZdPNBF6GWBw&amp;list=PLUhtb0BvZvZQpy44ksG0JsySCDqmf8pZ4

### Função: esquisser()
```



---

# inmetr: Historical Data from Brazilian Meteorological Stations in R

* Conectando a uma API que retornará os dados pretendidos;

* http://www.inmet.gov.br/projetos/rede/pesquisa/

* Vamos criar uma conta!

---

# Instalando e carregando o pacote inmetr


```r
# install.packages("devtools")

library(devtools)
```

```
## Loading required package: usethis
```

```r
install_github('lhmet/inmetr')
```

```
## Skipping install of 'inmetr' from a github remote, the SHA1 (dad64d13) has not changed since last install.
##   Use `force = TRUE` to force installation
```

```r
library(inmetr)
```
---

# Carregando todo o banco de dados: 


```r
head(bdmep_meta)
```

```
##      id       lon        lat    alt            name   state uf
## 1 83010 -68.73333 -11.016667 260.00       Brasiléia    Acre AC
## 2 82704 -72.66667  -7.633333 170.00 Cruzeiro do Sul    Acre AC
## 3 82915 -67.80000  -9.966667 160.00      Rio Branco    Acre AC
## 4 82807 -70.76667  -8.166667 190.00        Tarauacá    Acre AC
## 5 83098 -36.16667 -10.150000  56.13        Coruripe Alagoas AL
## 6 82994 -35.70000  -9.666667  64.50          Maceió Alagoas AL
##            time_zone offset_utc        time_zone.1 offset_utc.1
## 1 America/Rio_Branco         -5 America/Rio_Branco           -5
## 2 America/Rio_Branco         -5 America/Rio_Branco           -5
## 3 America/Rio_Branco         -5 America/Rio_Branco           -5
## 4 America/Rio_Branco         -5 America/Rio_Branco           -5
## 5     America/Maceio         -3     America/Maceio           -3
## 6     America/Maceio         -3     America/Maceio           -3
```


* Mas teremos que editar para selecionar uma estação. E agora?

---

# Tidyverse e uma interface estruturada de programação


* Eficiência algorítmica vs eficiência de trabalho

* Tidy data

* Utilização do operador __%&gt;%__ (pipe).

* Aparato mnemônico

* Minimalidade e funções puras

---

# Tidyverse e uma interface estruturada de programação


&lt;img src="data_science.png" width="100%"&gt;


---


# Pipe

* Conector de funções; 

* "E então...";

* Por que usar?

&lt;img src="pipe.jpg" width="400" style="display: block; margin: auto;" /&gt;

---

# Energia lá em cima!!!


&lt;img src="cliff_feliz.gif" style="display: block; margin: auto;" /&gt;

---

background-image: url(https://i2.wp.com/gvnation.com/wp-content/uploads/2019/06/tumblr_ppjo4j6Hta1r3v7t2o1_500.gif?resize=500%2C231&amp;ssl=1)
background-position: 50% 50%
background-size: contain

# Dplyr


* __filter__

* __select__

* __slice__

* __mutate__ 

* __summarise__ 

* __case_when__

---

# __filter__


```r
aux &lt;- bdmep_meta


# Filtrando o Estado da Bahia


bahia &lt;- aux %&gt;% 
  filter(state == "Bahia")


# Filtrando: Salvador


salvador &lt;- bahia %&gt;% 
  filter(name == "Salvador (Ondina)")


# Por fim atribuiremos o ID:

id &lt;- salvador$id
```

---

# Acessando a API e buscando os dados: 


```r
start_date &lt;- "01/01/1961"

end_date &lt;- format(Sys.Date(), "%d/%m/%Y")

met_data &lt;- bdmep_import(id = id,
                         sdate = start_date, 
                         edate = end_date, 
                         email = "tarssio.disap@hotmail.com",
                         passwd = "9mks3vfn",
                         verbose = TRUE)
```

```
## 
## ------------------------------
## station: 83229
```

```
## OK (HTTP 200).
```

```
## Returning data available span: 1963-08-01--2020-04-12
```

---

### Primeiros ajustes na precipitação: 

__select__


```r
prec &lt;- met_data %&gt;% 
  select(date, prec) %&gt;% 
  na.omit()
```

---

# Agregando ano a ano

__lubridate__  + __mutate__



```r
library(lubridate)
```

```
## 
## Attaching package: 'lubridate'
```

```
## The following object is masked from 'package:base':
## 
##     date
```

```r
prec &lt;- prec %&gt;% 
  mutate(year = year(date))
```

---

# Como agregar?


__group_by__ + __summarise__


```r
prec_anual &lt;- prec %&gt;% 
  group_by(year) %&gt;% 
  summarise(prec = sum(prec))
```

---
# Visualizando: 


```r
require(ggplot2)


ggplot(prec_anual) +
 aes(x = year, y = prec) +
 geom_area(size = 1L) +
 theme_minimal()
```

---

# Visualizando: 

![](curso_adm_files/figure-html/unnamed-chunk-13-1.png)&lt;!-- --&gt;

---
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
